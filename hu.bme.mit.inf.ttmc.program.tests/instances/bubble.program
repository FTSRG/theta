specification BubbleSort() {
	
	function sorted(a : array integer of integer, l : integer, u : integer) : integer :=
		forall (i : integer) : i >= l and i < u imply a[i] <= a[i + 1]
	
	procedure bubbleSort(a0 : array integer of integer, len : integer) : array integer of integer {
		var a : array integer of integer := a0;
		
		var i : integer := len - 1;
		while i > 0 do {
			var j : integer := 0;
			while j < i do {
				if a[j] > a[j + 1] then {
					var t : integer := a[j];
					a := a with [j] := a[j + 1];
					a := a with [j + 1] := t;
				}
				j := j + 1;
			}
			i := i - 1;
		}
		return a;
	}
		
}